package ui;

import command.Command;
import command.CommandExecutor;
<<<<<<< HEAD
=======
import exception.CommandException;
>>>>>>> 3e37779ac8a3895317ebd63f217fc4d5094429e3
import parser.Parser;
import storage.DataFileReader;
import storage.DataFileWriter;


public class UserSession {
    /*
     * These are objects that will be passed to command subclasses
     * that allow them to execute helper functions.
     */
    DataFileReader fileReader;
    DataFileWriter fileWriter;
    Ui ui;

    public UserSession() {
<<<<<<< HEAD
        //fileReader = new DataFileReader();
        //fileWriter = new DataFileWriter();
=======
        fileReader = new DataFileReader();
        fileWriter = new DataFileWriter();
>>>>>>> 3e37779ac8a3895317ebd63f217fc4d5094429e3
        ui = new Ui();
    }

    /**
     * Runs the program based on a given user commands.
     */
    public void runProgramSequence() {
<<<<<<< HEAD
        /*
=======
>>>>>>> 3e37779ac8a3895317ebd63f217fc4d5094429e3
        Parser userCommandParser;

        Printer.printWelcomeScreen();
        // Ask for new user input and executes it until user types an exit command
        do {
            Printer.printUserInputPrompt();
            String userInput = ui.getUserInput();
<<<<<<< HEAD
            Parser parsedUserCommand = new Parser(userInput);
            CommandExecutor.execute(parsedUserCommand);
        } while (!Command.isExitCommand);

        Printer.printExitLogo();
        */
=======
            try {
                Parser parsedUserCommand = new Parser(userInput);
                CommandExecutor.execute(parsedUserCommand);
            } catch (CommandException c) {
                continue;
            }
            fileWriter.executeFunction();
        } while (!Command.isExitCommand);

        Printer.printExitLogo();
>>>>>>> 3e37779ac8a3895317ebd63f217fc4d5094429e3
    }
}
